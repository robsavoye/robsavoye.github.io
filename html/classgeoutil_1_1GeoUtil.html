<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Underpass: geoutil::GeoUtil Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Underpass
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>geoutil</b></li><li class="navelem"><a class="el" href="classgeoutil_1_1GeoUtil.html">GeoUtil</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgeoutil_1_1GeoUtil-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">geoutil::GeoUtil Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Read in the Country boundaries data file.  
 <a href="classgeoutil_1_1GeoUtil.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="geoutil_8hh_source.html">geoutil.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for geoutil::GeoUtil:</div>
<div class="dyncontent">
<div class="center"><img src="classgeoutil_1_1GeoUtil__inherit__graph.png" border="0" usemap="#ageoutil_1_1GeoUtil_inherit__map" alt="Inheritance graph"/></div>
<map name="geoutil_1_1GeoUtil_inherit__map" id="ageoutil_1_1GeoUtil_inherit__map">
<area shape="rect" title="Read in the Country boundaries data file." alt="" coords="5,80,116,107"/>
<area shape="rect" title=" " alt="" coords="33,5,88,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for geoutil::GeoUtil:</div>
<div class="dyncontent">
<div class="center"><img src="classgeoutil_1_1GeoUtil__coll__graph.png" border="0" usemap="#ageoutil_1_1GeoUtil_coll__map" alt="Collaboration graph"/></div>
<map name="geoutil_1_1GeoUtil_coll__map" id="ageoutil_1_1GeoUtil_coll__map">
<area shape="rect" title="Read in the Country boundaries data file." alt="" coords="5,80,116,107"/>
<area shape="rect" title=" " alt="" coords="33,5,88,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a04c8c103f045904e464f5f6eb155f95b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeoutil_1_1GeoUtil.html#a04c8c103f045904e464f5f6eb155f95b">readFile</a> (const std::string &amp;filespec, bool multi)</td></tr>
<tr class="separator:a04c8c103f045904e464f5f6eb155f95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b77bbd1bbd8af82e6d14a8055274b95"><td class="memItemLeft" align="right" valign="top"><a id="a5b77bbd1bbd8af82e6d14a8055274b95"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeoutil_1_1GeoUtil.html#a5b77bbd1bbd8af82e6d14a8055274b95">connect</a> (const std::string &amp;dbserver, const std::string &amp;database)</td></tr>
<tr class="memdesc:a5b77bbd1bbd8af82e6d14a8055274b95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to the geodata database. <br /></td></tr>
<tr class="separator:a5b77bbd1bbd8af82e6d14a8055274b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a046af0638f97eede82e847f3257e067d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeoutil_1_1GeoUtil.html#a046af0638f97eede82e847f3257e067d">focusArea</a> (double lat, double lon)</td></tr>
<tr class="memdesc:a046af0638f97eede82e847f3257e067d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the country the changeset was made in.  <a href="classgeoutil_1_1GeoUtil.html#a046af0638f97eede82e847f3257e067d">More...</a><br /></td></tr>
<tr class="separator:a046af0638f97eede82e847f3257e067d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf1890efb89a1c34e4be42f802b043da"><td class="memItemLeft" align="right" valign="top"><a id="aaf1890efb89a1c34e4be42f802b043da"></a>
<a class="el" href="classgeoutil_1_1GeoCountry.html">GeoCountry</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeoutil_1_1GeoUtil.html#aaf1890efb89a1c34e4be42f802b043da">inCountry</a> (double max_lat, double max_lon, double min_lat, double min_lon)</td></tr>
<tr class="memdesc:aaf1890efb89a1c34e4be42f802b043da"><td class="mdescLeft">&#160;</td><td class="mdescRight">See if the given location can be identified. <br /></td></tr>
<tr class="separator:aaf1890efb89a1c34e4be42f802b043da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd539e294fe68a6de45fc063f8eaaa3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classosmstats_1_1RawCountry.html">osmstats::RawCountry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeoutil_1_1GeoUtil.html#a6bd539e294fe68a6de45fc063f8eaaa3">exportCountries</a> (void)</td></tr>
<tr class="separator:a6bd539e294fe68a6de45fc063f8eaaa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4117d6042b6aa2d2bdbf16fa67a3212"><td class="memItemLeft" align="right" valign="top"><a id="af4117d6042b6aa2d2bdbf16fa67a3212"></a>
<a class="el" href="classgeoutil_1_1GeoCountry.html">GeoCountry</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeoutil_1_1GeoUtil.html#af4117d6042b6aa2d2bdbf16fa67a3212">getCountry</a> (const std::string country)</td></tr>
<tr class="memdesc:af4117d6042b6aa2d2bdbf16fa67a3212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get parsed country data by name. <br /></td></tr>
<tr class="separator:af4117d6042b6aa2d2bdbf16fa67a3212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9e72f7ee543746653d7533d22fcbdc5"><td class="memItemLeft" align="right" valign="top"><a id="ae9e72f7ee543746653d7533d22fcbdc5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgeoutil_1_1GeoUtil.html#ae9e72f7ee543746653d7533d22fcbdc5">dump</a> (void)</td></tr>
<tr class="memdesc:ae9e72f7ee543746653d7533d22fcbdc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump internal data storage for debugging purposes. <br /></td></tr>
<tr class="separator:ae9e72f7ee543746653d7533d22fcbdc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Read in the Country boundaries data file. </p>
<p>This parses the data file in any GDAL supported format into a data structure that can be used to determine which country a change was made in. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6bd539e294fe68a6de45fc063f8eaaa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bd539e294fe68a6de45fc063f8eaaa3">&#9670;&nbsp;</a></span>exportCountries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="classosmstats_1_1RawCountry.html">osmstats::RawCountry</a> &gt; geoutil::GeoUtil::exportCountries </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Export all the countries in the format used by OSM Stats, which doesn't use the geospatial data. This table needs to be regenerated using the same data file as used to geolocate which country a changeset is made it. </p>

</div>
</div>
<a id="a046af0638f97eede82e847f3257e067d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a046af0638f97eede82e847f3257e067d">&#9670;&nbsp;</a></span>focusArea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool geoutil::GeoUtil::focusArea </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>lon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the country the changeset was made in. </p>
<p>See if this changeset is in a focus area. We ignore changsets in areas like North America to reduce the amount of data needed for calulations. This boundary can always be modified to be larger. </p>

</div>
</div>
<a id="a04c8c103f045904e464f5f6eb155f95b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04c8c103f045904e464f5f6eb155f95b">&#9670;&nbsp;</a></span>readFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool geoutil::GeoUtil::readFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filespec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>multi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a file into internal storage so boost::geometry functions can be used to process simple geospatial calculations instead of using postgres. This data is is used to determine which country a change was made in, or filtering out part of the planet to reduce data size. Since this uses GDAL, any multi-polygon file of any supported format can be used. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>data/<a class="el" href="geoutil_8hh_source.html">geoutil.hh</a></li>
<li>data/geoutil.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
